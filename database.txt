/*
product ( -barecode varchar,name,price,escription,image,qteEnStock);
commandlineBuy ( -idCommnadLine,#barecode,qteCommande );
commandlineSell ( -idCommnadLine,#barecode,qteCommande );
sells( -idSells,#idCommandLine,date);
Buys( -idAchat,#idCommandLine,date);
loggs( -idLog,description);
*/

/*
create table product (
	barecode varchar(50) primary key,
	nameP varchar(20), 
	priceP float, 
	descriptionP varchar(50), 
	imageP image, 
	qteEnStockP float
	)
create table sells (
	idSells int primary key,
	dateS datetime
	)

create table Buys (
	idAchat int primary key,
	dateB datetime
	)

create table commandlineBuy (
	idCommandLine int primary key,
	barecode varchar(50) foreign key references product(barecode), 
	qteCommande int, 
	idAchat int foreign key references Buys(idAchat),
	dateB datetime
	)

create table commandlineSell (
	idCommandLine int primary key,
	barecode varchar(50) foreign key references product(barecode), 
	qteCommande int, 
	idSells int foreign key references sells(idSells),
	dateS datetime,
	)


create table loggs (
	 idLog int identity primary key,
	 descriptionLog varchar(100)
	)
*/


/*
create trigger T1
on commandlineBuy
for insert
as
begin
	declare @idCommandLine int
	declare @barecode varchar(50)
	declare @qteCommande int
	declare @idAchat int
	declare @dateB datetime

	select @idCommandLine = idCommandLine from inserted	
	select @barecode = barecode from inserted	
	select @qteCommande = qteCommande from inserted	
	select @idAchat = idAchat from inserted	
	select @dateB = dateB from inserted	

	declare @string varchar(100)
	set @string = 'idCommandLine: '+cast(@idCommandLine as varchar(20))+'barecode : '
				+cast(@barecode as varchar(20))+'qteCommande: '+cast(@qteCommande as varchar(20))
				+'idAchat'+cast(@idAchat as varchar(20))+'dateB: '+cast(@dateB as varchar(20))

	insert into loggs(descriptionLog) values (@string)

end
*/


/*
create trigger T2
on commandlineSell
for insert
as
begin
	declare @idCommandLine int
	declare @barecode varchar(50)
	declare @qteCommande int
	declare @idSells int
	declare @dateS datetime

	select @idCommandLine = idCommandLine from inserted	
	select @barecode = barecode from inserted	
	select @qteCommande = qteCommande from inserted	
	select @idSells = idSells from inserted	
	select @dateS = dateS from inserted	

	declare @string varchar(100)
	set @string = 'idCommandLine: '+cast(@idCommandLine as varchar(20))+'barecode : '
				+cast(@barecode as varchar(20))+'qteCommande: '+cast(@qteCommande as varchar(20))
				+'idAchat'+cast(@idSells as varchar(20))+'dateB: '+cast(@dateS as varchar(20))

	insert into loggs(descriptionLog) values (@string)

end
*/